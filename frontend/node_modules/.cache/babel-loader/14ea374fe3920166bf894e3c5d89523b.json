{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst cartSlice = createSlice({\n  name: \"cart\",\n  initialState: {\n    carts: [],\n    cartTotalPrice: 0,\n    cartToTalProduct: 0\n  },\n  reducers: {\n    addToCart: (state, action) => {\n      const itemIndex = state.carts.findIndex(item => item.id === action.payload.id);\n\n      if (itemIndex !== -1) {\n        state.carts[itemIndex].quantity += 1;\n      } else {\n        const temProduct = { ...action.payload,\n          quantity: 1\n        };\n        state.carts.push(temProduct);\n      }\n    },\n    decrementItem: (state, action) => {\n      const indexItem = state.carts.findIndex(item => item.id === action.payload.id);\n\n      if (action.payload.quantity <= 1) {\n        // alert(\"Ít nhất phải có một sản phẩm\");\n        return;\n      } else {\n        state.carts[indexItem].quantity -= 1;\n      }\n    },\n    incrementItem: (state, action) => {\n      const {\n        product,\n        quantity\n      } = action.payload;\n      const itemIndex = state.carts.findIndex(item => item.product.id === product.id);\n\n      if (itemIndex !== -1) {\n        state.carts[itemIndex].quantity += quantity;\n      } else {\n        const temProduct = { ...action.payload,\n          quantity\n        };\n        state.carts.push(temProduct);\n      }\n    },\n    removeItem: (state, action) => {\n      const itemId = action.payload;\n      const newCart = state.carts.filter(item => item.product.id !== itemId);\n\n      if (state.carts.length === 0) {\n        return { ...state,\n          carts: newCart,\n          cartTotalPrice: 0,\n          cartToTalProduct: 0\n        };\n      } else {\n        return { ...state,\n          carts: newCart\n        };\n      }\n    },\n    showQuantity: (state, action) => {\n      const {\n        product,\n        quantity\n      } = action.payload;\n      const indexItem = state.carts.findIndex(item => item.id === product.id);\n      state.carts[indexItem].quantity = quantity;\n    },\n    getTotalPrice: state => {\n      const totalPrice = state.carts.reduce((total, product) => {\n        return total + product.product.price * product.quantity;\n      }, 0);\n      const totalProduct = state.carts.reduce((total, product) => {\n        return total + product.quantity;\n      }, 0);\n\n      if (totalPrice && totalProduct) {\n        state.cartTotalPrice = totalPrice;\n        state.cartToTalProduct = totalProduct;\n      }\n    }\n  }\n});\nexport const {\n  addToCart,\n  removeItem,\n  getTotalPrice,\n  decrementItem,\n  incrementItem,\n  showQuantity\n} = cartSlice.actions;\nexport default cartSlice.reducer;","map":{"version":3,"names":["createSlice","cartSlice","name","initialState","carts","cartTotalPrice","cartToTalProduct","reducers","addToCart","state","action","itemIndex","findIndex","item","id","payload","quantity","temProduct","push","decrementItem","indexItem","incrementItem","product","removeItem","itemId","newCart","filter","length","showQuantity","getTotalPrice","totalPrice","reduce","total","price","totalProduct","actions","reducer"],"sources":["C:/Users/Office/Desktop/history of history/gitproject/helly github repo/frontend/src/redux/cartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst cartSlice = createSlice({\n  name: \"cart\",\n  initialState: {\n    carts: [],\n    cartTotalPrice: 0,\n    cartToTalProduct: 0,\n  },\n  reducers: {\n    addToCart: (state, action) => {\n      const itemIndex = state.carts.findIndex(\n        (item) => item.id === action.payload.id\n      );\n      if (itemIndex !== -1) {\n        state.carts[itemIndex].quantity += 1;\n      } else {\n        const temProduct = { ...action.payload, quantity: 1 };\n        state.carts.push(temProduct);\n      }\n    },\n    decrementItem: (state, action) => {\n      const indexItem = state.carts.findIndex(\n        (item) => item.id === action.payload.id\n      );\n\n      if (action.payload.quantity <= 1) {\n        // alert(\"Ít nhất phải có một sản phẩm\");\n        return;\n      } else {\n        state.carts[indexItem].quantity -= 1;\n      }\n    },\n    incrementItem: (state, action) => {\n      const { product, quantity } = action.payload;\n      const itemIndex = state.carts.findIndex(\n        (item) => item.product.id === product.id\n      );\n\n      if (itemIndex !== -1) {\n        state.carts[itemIndex].quantity += quantity;\n      } else {\n        const temProduct = { ...action.payload, quantity };\n        state.carts.push(temProduct);\n      }\n    },\n    removeItem: (state, action) => {\n      const itemId = action.payload;\n      const newCart = state.carts.filter((item) => item.product.id !== itemId);\n\n      if (state.carts.length === 0) {\n        return {\n          ...state,\n          carts: newCart,\n          cartTotalPrice: 0,\n          cartToTalProduct: 0,\n        };\n      } else {\n        return { ...state, carts: newCart };\n      }\n    },\n    showQuantity: (state, action) => {\n      const { product, quantity } = action.payload;\n      const indexItem = state.carts.findIndex((item) => item.id === product.id);\n      state.carts[indexItem].quantity = quantity;\n    },\n    getTotalPrice: (state) => {\n      const totalPrice = state.carts.reduce((total, product) => {\n        return total + product.product.price * product.quantity;\n      }, 0);\n      const totalProduct = state.carts.reduce((total, product) => {\n        return total + product.quantity;\n      }, 0);\n\n      if (totalPrice && totalProduct) {\n        state.cartTotalPrice = totalPrice;\n        state.cartToTalProduct = totalProduct;\n      }\n    },\n  },\n});\n\nexport const {\n  addToCart,\n  removeItem,\n  getTotalPrice,\n  decrementItem,\n  incrementItem,\n  showQuantity,\n} = cartSlice.actions;\nexport default cartSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}