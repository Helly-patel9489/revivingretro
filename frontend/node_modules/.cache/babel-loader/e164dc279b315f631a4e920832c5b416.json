{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Office\\\\Desktop\\\\history of history\\\\gitproject\\\\Reviving_retro\\\\frontend\\\\src\\\\components\\\\Checkout.js\",\n    _s = $RefreshSig$();\n\nimport { useFormik } from \"formik\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport * as Yup from \"yup\";\nimport queryString from \"query-string\";\nimport { checkoutProduct, sendMailCheckout } from \"../services/API/checkoutApi\";\nimport \"../css/checkout.css\";\nimport { createHistoryUser } from \"../services/API/historyApi\";\nimport io from \"socket.io-client\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io(\"http://localhost:3000\");\nexport default function Checkout() {\n  _s();\n\n  const {\n    carts,\n    cartTotalPrice\n  } = useSelector(state => state.cart);\n  const {\n    currentUser\n  } = useSelector(state => state.auth.login);\n  const dispatch = useDispatch();\n  const [success, setSuccess] = useState(false);\n  const [load, setLoad] = useState(false);\n  const formik = useFormik({\n    initialValues: {\n      fullName: \"\",\n      email: \"\",\n      phone: \"\",\n      address: \"\"\n    },\n    validationSchema: Yup.object({\n      fullName: Yup.string().matches(\"^[a-zA-Z_ÀÁÂÃÈÉÊẾÌÍÒÓÔÕÙÚĂĐĨŨƠàáâãèéêìíòóôõùúăđĩũơƯĂẠẢẤẦẨẪẬẮẰẲẴẶ\" + \"ẸẺẼỀỀỂưăạảấầẩẫậắằẳẵặẹẻẽềềểếỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪễệỉịọỏốồổỗộớờởỡợ\" + \"ụủứừỬỮỰỲỴÝỶỸửữựỳỵỷỹ\\\\s]+$\", \"Fullname is invalid\").min(10).max(20),\n      email: Yup.string().required(\"Required\").matches(/^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/, \"Email is invalid\").min(10),\n      phone: Yup.string().required(\"Required\").matches(/^[0-9]+$/, \"Number phone is invalid\").min(10).max(10),\n      address: Yup.string().required(\"Required\").matches(\"^[/0-9a-zA-Z_ÀÁÂÃÈÉÊẾÌÍÒÓÔÕÙÚĂĐĨŨƠàáâãèéêìíòóôõùúăđĩũơƯĂẠẢẤẦẨẪẬẮẰẲẴẶ\" + \"ẸẺẼỀỀỂưăạảấầẩẫậắằẳẵặẹẻẽềềểếỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪễệỉịọỏốồổỗộớờởỡợ\" + \"ụủứừỬỮỰỲỴÝỶỸửữựỳỵỷỹ\\\\s]+$\", \"Address is invalid\").max(30)\n    }),\n    onSubmit: async values => {\n      for (let item of carts) {\n        const params = {\n          idProduct: item.product.id,\n          productCount: item.quantity\n        };\n        const query = \"?\" + queryString.stringify(params);\n        await checkoutProduct(dispatch, query, currentUser.token, currentUser.id);\n        const paramsHistory = {\n          idUser: currentUser.id,\n          phone: values.phone,\n          address: values.address,\n          fullname: values.fullName,\n          total: cartTotalPrice\n        };\n        await createHistoryUser(dispatch, paramsHistory);\n      } //send data to server\n\n\n      socket.emit(\"send_order\", currentUser.id);\n      await sendMailCheckout(dispatch, values, currentUser.token);\n      setLoad(!load);\n      setTimeout(() => {\n        setLoad(false);\n        setSuccess(!success);\n      }, 4000);\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [load && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper_loader\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loader\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"py-5 bg-light\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row px-4 px-lg-5 py-lg-4 align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-lg-6\",\n              children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"h2 text-uppercase mb-0\",\n                children: \"Checkout\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-lg-6 text-lg-right\",\n              children: /*#__PURE__*/_jsxDEV(\"nav\", {\n                \"aria-label\": \"breadcrumb\",\n                children: /*#__PURE__*/_jsxDEV(\"ol\", {\n                  className: \"breadcrumb justify-content-lg-end mb-0 px-0\",\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"breadcrumb-item\",\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"index.html\",\n                      children: \"Home\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 110,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"breadcrumb-item\",\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"cart.html\",\n                      children: \"Cart\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 113,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 112,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"breadcrumb-item active\",\n                    \"aria-current\": \"page\",\n                    children: \"Checkout\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), !success && /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"py-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"h5 text-uppercase mb-4\",\n          children: \"Billing details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-8\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: formik.handleSubmit,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-lg-12 form-group m-0\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"text-small text-uppercase\",\n                    htmlFor: \"Fullname\",\n                    children: \"Full Name:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 133,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"form-control form-control-lg\",\n                    type: \"text\",\n                    placeholder: \"Enter Your Full Name Here!\",\n                    id: \"fullName\",\n                    name: \"fullName\",\n                    value: formik.values.fullName,\n                    onChange: formik.handleChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-2xs text-danger\",\n                    children: formik.errors.fullName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 148,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-lg-12 form-group m-0\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"text-small text-uppercase\",\n                    htmlFor: \"Email\",\n                    children: [\"Email:\", \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 153,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"form-control form-control-lg\",\n                    type: \"text\",\n                    placeholder: \"Enter Your Email Here!\",\n                    id: \"email\",\n                    name: \"email\",\n                    value: formik.values.email,\n                    onChange: formik.handleChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-2xs text-danger\",\n                    children: formik.errors.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-lg-12 form-group m-0\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"text-small text-uppercase\",\n                    htmlFor: \"Phone\",\n                    children: [\"Phone Number:\", \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"form-control form-control-lg\",\n                    type: \"text\",\n                    placeholder: \"Enter Your Phone Number Here!\",\n                    id: \"phone\",\n                    name: \"phone\",\n                    value: formik.values.phone,\n                    onChange: formik.handleChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-2xs text-danger\",\n                    children: formik.errors.phone\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 188,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-lg-12 form-group m-0\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"text-small text-uppercase\",\n                    htmlFor: \"Address\",\n                    children: [\"Address:\", \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 193,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"form-control form-control-lg\",\n                    type: \"text\",\n                    placeholder: \"Enter Your Address Here!\",\n                    id: \"address\",\n                    name: \"address\",\n                    value: formik.values.address,\n                    onChange: formik.handleChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 199,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-2xs text-danger\",\n                    children: formik.errors.address\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-lg-12 form-group m-0\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-dark\",\n                    style: {\n                      color: \"white\"\n                    },\n                    type: \"submit\",\n                    children: \"Place order\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card border-0 rounded-0 p-lg-4 bg-light\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-body\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"text-uppercase mb-4\",\n                  children: \"Your order\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"list-unstyled mb-0\",\n                  children: [carts.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                      className: \"d-flex align-items-center justify-content-between\",\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        className: \"small font-weight-bold\",\n                        children: item.product.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 232,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-muted small\",\n                        children: [\"$\", item.product.price, \" x \", item.quantity]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 235,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 231,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                      className: \"border-bottom my-2\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 239,\n                      columnNumber: 27\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 230,\n                    columnNumber: 25\n                  }, this)), /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"d-flex align-items-center justify-content-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      className: \"text-uppercase small font-weight-bold\",\n                      children: \"Total\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 243,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [\"$\", cartTotalPrice]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 246,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }, this), success && /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"py-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"You Have Successfully Ordered!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: \"1.2rem\"\n            },\n            children: \"Please Check Your Email.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Checkout, \"bnz/g0kiedO/VO4myg0dMstdRaw=\", false, function () {\n  return [useSelector, useSelector, useDispatch, useFormik];\n});\n\n_c = Checkout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"names":["useFormik","React","useEffect","useState","useDispatch","useSelector","Yup","queryString","checkoutProduct","sendMailCheckout","createHistoryUser","io","socket","Checkout","carts","cartTotalPrice","state","cart","currentUser","auth","login","dispatch","success","setSuccess","load","setLoad","formik","initialValues","fullName","email","phone","address","validationSchema","object","string","matches","min","max","required","onSubmit","values","item","params","idProduct","product","id","productCount","quantity","query","stringify","token","paramsHistory","idUser","fullname","total","emit","setTimeout","handleSubmit","handleChange","errors","color","map","index","name","price","fontSize"],"sources":["C:/Users/Office/Desktop/history of history/gitproject/Reviving_retro/frontend/src/components/Checkout.js"],"sourcesContent":["import { useFormik } from \"formik\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport * as Yup from \"yup\";\nimport queryString from \"query-string\";\nimport { checkoutProduct, sendMailCheckout } from \"../services/API/checkoutApi\";\nimport \"../css/checkout.css\";\nimport { createHistoryUser } from \"../services/API/historyApi\";\nimport io from \"socket.io-client\";\nconst socket = io(\"http://localhost:3000\");\n\nexport default function Checkout() {\n  const { carts, cartTotalPrice } = useSelector((state) => state.cart);\n  const { currentUser } = useSelector((state) => state.auth.login);\n  const dispatch = useDispatch();\n  const [success, setSuccess] = useState(false);\n  const [load, setLoad] = useState(false);\n\n  const formik = useFormik({\n    initialValues: {\n      fullName: \"\",\n      email: \"\",\n      phone: \"\",\n      address: \"\",\n    },\n    validationSchema: Yup.object({\n      fullName: Yup.string()\n        .matches(\n          \"^[a-zA-Z_ÀÁÂÃÈÉÊẾÌÍÒÓÔÕÙÚĂĐĨŨƠàáâãèéêìíòóôõùúăđĩũơƯĂẠẢẤẦẨẪẬẮẰẲẴẶ\" +\n            \"ẸẺẼỀỀỂưăạảấầẩẫậắằẳẵặẹẻẽềềểếỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪễệỉịọỏốồổỗộớờởỡợ\" +\n            \"ụủứừỬỮỰỲỴÝỶỸửữựỳỵỷỹ\\\\s]+$\",\n          \"Fullname is invalid\"\n        )\n        .min(10)\n        .max(20),\n      email: Yup.string()\n        .required(\"Required\")\n        .matches(/^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/, \"Email is invalid\")\n        .min(10),\n      phone: Yup.string()\n        .required(\"Required\")\n        .matches(/^[0-9]+$/, \"Number phone is invalid\")\n        .min(10)\n        .max(10),\n      address: Yup.string()\n        .required(\"Required\")\n        .matches(\n          \"^[/0-9a-zA-Z_ÀÁÂÃÈÉÊẾÌÍÒÓÔÕÙÚĂĐĨŨƠàáâãèéêìíòóôõùúăđĩũơƯĂẠẢẤẦẨẪẬẮẰẲẴẶ\" +\n            \"ẸẺẼỀỀỂưăạảấầẩẫậắằẳẵặẹẻẽềềểếỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪễệỉịọỏốồổỗộớờởỡợ\" +\n            \"ụủứừỬỮỰỲỴÝỶỸửữựỳỵỷỹ\\\\s]+$\",\n          \"Address is invalid\"\n        )\n        .max(30),\n    }),\n    onSubmit: async (values) => {\n      for (let item of carts) {\n        const params = {\n          idProduct: item.product.id,\n          productCount: item.quantity,\n        };\n        const query = \"?\" + queryString.stringify(params);\n\n        await checkoutProduct(\n          dispatch,\n          query,\n          currentUser.token,\n          currentUser.id\n        );\n\n        const paramsHistory = {\n          idUser: currentUser.id,\n          phone: values.phone,\n          address: values.address,\n          fullname: values.fullName,\n          total: cartTotalPrice,\n        };\n        await createHistoryUser(dispatch, paramsHistory);\n      }\n\n      //send data to server\n      socket.emit(\"send_order\", currentUser.id);\n\n      await sendMailCheckout(dispatch, values, currentUser.token);\n      setLoad(!load);\n      setTimeout(() => {\n        setLoad(false);\n        setSuccess(!success);\n      }, 4000);\n    },\n  });\n\n  return (\n    <div>\n      {load && (\n        <div className=\"wrapper_loader\">\n          <div className=\"loader\"></div>\n        </div>\n      )}\n      <div className=\"container\">\n        <section className=\"py-5 bg-light\">\n          <div className=\"container\">\n            <div className=\"row px-4 px-lg-5 py-lg-4 align-items-center\">\n              <div className=\"col-lg-6\">\n                <h1 className=\"h2 text-uppercase mb-0\">Checkout</h1>\n              </div>\n              <div className=\"col-lg-6 text-lg-right\">\n                <nav aria-label=\"breadcrumb\">\n                  <ol className=\"breadcrumb justify-content-lg-end mb-0 px-0\">\n                    <li className=\"breadcrumb-item\">\n                      <a href=\"index.html\">Home</a>\n                    </li>\n                    <li className=\"breadcrumb-item\">\n                      <a href=\"cart.html\">Cart</a>\n                    </li>\n                    <li className=\"breadcrumb-item active\" aria-current=\"page\">\n                      Checkout\n                    </li>\n                  </ol>\n                </nav>\n              </div>\n            </div>\n          </div>\n        </section>\n\n        {!success && (\n          <section className=\"py-5\">\n            <h2 className=\"h5 text-uppercase mb-4\">Billing details</h2>\n            <div className=\"row\">\n              <div className=\"col-lg-8\">\n                <form onSubmit={formik.handleSubmit}>\n                  <div className=\"row\">\n                    <div className=\"col-lg-12 form-group m-0\">\n                      <label\n                        className=\"text-small text-uppercase\"\n                        htmlFor=\"Fullname\"\n                      >\n                        Full Name:\n                      </label>\n                      <input\n                        className=\"form-control form-control-lg\"\n                        type=\"text\"\n                        placeholder=\"Enter Your Full Name Here!\"\n                        id=\"fullName\"\n                        name=\"fullName\"\n                        value={formik.values.fullName}\n                        onChange={formik.handleChange}\n                      />\n                      <p className=\"text-2xs text-danger\">\n                        {formik.errors.fullName}\n                      </p>\n                    </div>\n                    <div className=\"col-lg-12 form-group m-0\">\n                      <label\n                        className=\"text-small text-uppercase\"\n                        htmlFor=\"Email\"\n                      >\n                        Email:{\" \"}\n                      </label>\n                      <input\n                        className=\"form-control form-control-lg\"\n                        type=\"text\"\n                        placeholder=\"Enter Your Email Here!\"\n                        id=\"email\"\n                        name=\"email\"\n                        value={formik.values.email}\n                        onChange={formik.handleChange}\n                      />\n                      <p className=\"text-2xs text-danger\">\n                        {formik.errors.email}\n                      </p>\n                    </div>\n                    <div className=\"col-lg-12 form-group m-0\">\n                      <label\n                        className=\"text-small text-uppercase\"\n                        htmlFor=\"Phone\"\n                      >\n                        Phone Number:{\" \"}\n                      </label>\n                      <input\n                        className=\"form-control form-control-lg\"\n                        type=\"text\"\n                        placeholder=\"Enter Your Phone Number Here!\"\n                        id=\"phone\"\n                        name=\"phone\"\n                        value={formik.values.phone}\n                        onChange={formik.handleChange}\n                      />\n                      <p className=\"text-2xs text-danger\">\n                        {formik.errors.phone}\n                      </p>\n                    </div>\n                    <div className=\"col-lg-12 form-group m-0\">\n                      <label\n                        className=\"text-small text-uppercase\"\n                        htmlFor=\"Address\"\n                      >\n                        Address:{\" \"}\n                      </label>\n                      <input\n                        className=\"form-control form-control-lg\"\n                        type=\"text\"\n                        placeholder=\"Enter Your Address Here!\"\n                        id=\"address\"\n                        name=\"address\"\n                        value={formik.values.address}\n                        onChange={formik.handleChange}\n                      />\n                      <p className=\"text-2xs text-danger\">\n                        {formik.errors.address}\n                      </p>\n                    </div>\n                    <div className=\"col-lg-12 form-group m-0\">\n                      <button\n                        className=\"btn btn-dark\"\n                        style={{ color: \"white\" }}\n                        type=\"submit\"\n                      >\n                        Place order\n                      </button>\n                    </div>\n                  </div>\n                </form>\n              </div>\n              <div className=\"col-lg-4\">\n                <div className=\"card border-0 rounded-0 p-lg-4 bg-light\">\n                  <div className=\"card-body\">\n                    <h5 className=\"text-uppercase mb-4\">Your order</h5>\n                    <ul className=\"list-unstyled mb-0\">\n                      {carts.map((item, index) => (\n                        <div key={index}>\n                          <li className=\"d-flex align-items-center justify-content-between\">\n                            <strong className=\"small font-weight-bold\">\n                              {item.product.name}\n                            </strong>\n                            <span className=\"text-muted small\">\n                              ${item.product.price} x {item.quantity}\n                            </span>\n                          </li>\n                          <li className=\"border-bottom my-2\"></li>\n                        </div>\n                      ))}\n                      <li className=\"d-flex align-items-center justify-content-between\">\n                        <strong className=\"text-uppercase small font-weight-bold\">\n                          Total\n                        </strong>\n                        <span>${cartTotalPrice}</span>\n                      </li>\n                    </ul>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </section>\n        )}\n\n        {success && (\n          <section className=\"py-5\">\n            <div className=\"p-5\">\n              <h1>You Have Successfully Ordered!</h1>\n              <p style={{ fontSize: \"1.2rem\" }}>Please Check Your Email.</p>\n            </div>\n          </section>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}